var s=Object.defineProperty;var d=(a,e,t)=>e in a?s(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var o=(a,e,t)=>d(a,typeof e!="symbol"?e+"":e,t);const u={global:{pageLoader:"[data-astron-page-loader]",signInButton:"[data-astron-button=sign-in]"},pricing:{span:'[data-astron-span="fullPriceValue"]'},form:{lead:{id:"#new-patient-lead-form",name:"[name=fullname]",email:"[name=email]",country:"[name=country]",marketingSource:"[name=marketing-source]",agreement:"[name=agreement]"},clinician:{id:"#new-lead-form",name:"[name=fullname]",email:"[name=email]",clinic:"[name=clinic]",reason:"[name=reason]",agreement:"[name=agreement]"},submit:"[type=submit]",errorMessage:a=>`[data-astron-error-message=${a}]`}},r={api:{baseUrl:"https://app-astron-be-dev.azurewebsites.net/v1"},analytics:{googleAnalyticsId:"G-TWW8GP9Z26",metaPixelId:"454949110556667",contentsquareId:"5231777"},app:{environment:"development"},auth:{signInUrl:"https://dev.app.astron.health/auth",recaptchaSiteKey:"6Lc7liIqAAAAAGtTDvylNnQI0WR-zcJZayxihI-G"},debug:{enabled:!0},keys:{referralId:"referralId",leadFormSubmitted:"patient-new-lead-submitted",clinicianFormSubmitted:"clinician-new-lead-submitted"},geojs:{apiUrl:"https://get.geojs.io/v1/ip/country.json"}};async function c(a,e){if(!document.getElementById(e))return new Promise((t,i)=>{const n=document.createElement("script");n.src=a,n.async=!0,n.id=e,n.type="text/javascript",n.onload=()=>t(),n.onerror=()=>i(new Error(`Failed to load script: ${a}`)),document.head.appendChild(n)})}function l(a){console.log(`[CUSTOM] [${new Date().toISOString()}] ${a}`)}class g{constructor(){o(this,"_initialized",!1)}async load(){try{let e=function(...i){var n;(n=window.dataLayer)==null||n.push(i)};const t=`https://www.googletagmanager.com/gtag/js?id=${r.analytics.googleAnalyticsId}`;await c(t,"google-analytics-script"),window.dataLayer=window.dataLayer||[],window.gtag=e,e("js",new Date),e("config",r.analytics.googleAnalyticsId),l("Google Analytics initialized successfully"),this._initialized=!0}catch(e){console.error("Google Analytics initialization failed",e),this._initialized=!1}}trackEvent(e,t,i){if(!this._initialized||!window.gtag){console.warn("Google Analytics not initialized");return}window.gtag("event",e,{event_category:t,event_label:i})}}const w=new g;class m{constructor(){o(this,"_initialized",!1)}async load(){try{const e=`https://www.google.com/recaptcha/api.js?render=${r.auth.recaptchaSiteKey}`;if(await c(e,"recaptcha-script"),!window.grecaptcha)throw new Error("reCAPTCHA script not loaded");l("Recaptcha initialized successfully"),this._initialized=!0}catch(e){console.error("Recaptcha initialization failed",e),this._initialized=!1}}validate(){return new Promise((e,t)=>{if(!this._initialized||!window.grecaptcha){t(new Error("reCAPTCHA not loaded"));return}window.grecaptcha.ready(()=>{window.grecaptcha.execute(r.auth.recaptchaSiteKey,{action:"submit"}).then(e).catch(t)})})}}const h=new m;export{c as a,r as c,u as e,w as g,l,h as r};
